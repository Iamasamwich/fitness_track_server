(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{254:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);n(253),n(254);var a=n(0),c=n(34),s=n.n(c),r=n(19),i=n(69),o=n(213),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload;default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE":return t.payload;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SESSIONS":return t.payload;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPSTATUS":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHCHANGE":return t.payload;default:return e}},b=Object(i.c)({login:l,page:u,sessions:d,appStatus:j,fetchAll:h}),f=n(24),p=n.n(f),O=n(27),g=n(58),m="localhost:3001"===window.location.host?"http://localhost:3000":"",x={url:"".concat(m),options:{headers:{"Content-Type":"application/json"},credentials:"include"}},v=function(e,t,n){switch(e){case"login":return n({type:"LOGIN",payload:!0});case"logout":return n({type:"LOGIN",payload:!1});case"changePage":return n({type:"CHANGE_PAGE",payload:t});case"status":return n({type:"APPSTATUS",payload:t});case"setSessions":return n({type:"SET_SESSIONS",payload:t});case"fetchChange":return n({type:"FETCHCHANGE",payload:t});default:return}},k=function(e){e({type:"APPSTATUS",payload:401}),e({type:"LOGIN",payload:!1})},y=function(e){e({type:"APPSTATUS",payload:500}),e({type:"LOGIN",payload:!1})},N=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x.url+"/logout",Object(O.a)(Object(O.a)({},x.options),{},{method:"POST"})).then((function(e){return e.json()})).then((function(e){200===e.status?(v("logout",null,t),v("changePage","login",t)):(v("status",e.status,t),v("logout",null,t))})).catch((function(e){y(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(t){v("status",null,t),v("changePage",e,t)}},w=function(){return function(e){v("status",null,e)}},C=n(9),T=n(2),A=Object(r.b)((function(e){return{login:e.login,page:e.page}}),{logout:N,changePage:S})((function(e){var t=e.login,n=e.logout,c=(e.page,e.changePage),s=Object(a.useState)(!1),r=Object(C.a)(s,2),i=r[0],o=r[1],l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=function(e){l.current&&l.current.contains(e.target)||o(!1)};return document.body.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(T.jsxs)("div",{className:"navbar",id:"navbar",children:[t?Object(T.jsx)("div",{children:Object(T.jsx)("i",{className:"home icon large",onClick:function(){return c("login")}})}):null,Object(T.jsxs)("div",{ref:l,className:"ui dropdown",onClick:function(){return o(!i)},children:[Object(T.jsx)("i",{className:"bars icon large"}),Object(T.jsxs)("div",{className:"cust_menu menu transition ".concat(i?"visible active":""),children:[Object(T.jsx)("div",{className:"item",onClick:function(){return c("about")},children:"About"}),t?Object(T.jsx)("div",{className:"item",onClick:function(){return n()},children:"Log Out"}):null]})]})]})})),E=function(){return Object(T.jsxs)("div",{id:"logo-container",children:[Object(T.jsx)("h1",{children:"Cycle Tracker"}),Object(T.jsxs)("div",{id:"logo-wheel",className:"wheel",children:[Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes1"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes2"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes3"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes4"})]})]})},P=Object(r.b)(null,{login:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"APPSTATUS",payload:"loading"}),t.next=3,fetch(x.url+"/login",Object(O.a)(Object(O.a)({},x.options),{},{method:"POST",body:JSON.stringify(e)})).then((function(e){return e.json()})).then((function(e){202===e.status&&"Logged In"===e.message?(v("status",null,n),v("login",null,n)):(v("status",e.status,n),v("logout",null,n))})).catch((function(e){y(n)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changePage:S})((function(e){var t=e.login,n=e.changePage,c=Object(a.useState)(""),s=Object(C.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)(""),l=Object(C.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(""),h=Object(C.a)(j,2),b=h[0],f=h[1],p=Object(a.useState)(""),O=Object(C.a)(p,2),g=O[0],m=O[1],x=Object(a.useState)(!1),v=Object(C.a)(x,2),k=v[0],y=v[1];Object(a.useEffect)((function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r.toLowerCase());e&&b?(d(""),m("")):e&&!b?(d(""),m("error")):!e&&b?(d("error"),m("")):(d("error"),m("error"))}),[r,b]),Object(a.useEffect)((function(){y(!(!u&&!g))}),[u,g]);return Object(T.jsxs)("div",{className:"ui container",children:[Object(T.jsx)(E,{}),Object(T.jsxs)("form",{className:"ui form",onSubmit:function(e){e.preventDefault(),k||t({email:r,pword:b})},children:[Object(T.jsxs)("div",{className:"field ".concat(u),children:[Object(T.jsx)("label",{children:"Email:"}),Object(T.jsx)("input",{type:"text",name:"email",placeholder:"Email...",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(T.jsxs)("div",{className:"field ".concat(g),children:[Object(T.jsx)("label",{children:"Password:"}),Object(T.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(T.jsx)("button",{className:"ui button ".concat(k?"":"positive"),type:"submit",children:"Log In"}),Object(T.jsx)("p",{className:"fakeLink",onClick:function(){return n("signup")},children:"Create an account"})]})]})})),D=function(e){var t=e.readTandC;return Object(T.jsx)("div",{className:"tandc-popup",onClick:function(e){return function(e){"tandcButton"===e.target.id?t(!0):t(!1)}(e)},children:Object(T.jsxs)("div",{className:"tandc-contents",children:[Object(T.jsx)("h1",{children:"Terms And Conditions"}),Object(T.jsx)("p",{children:'These Terms And Conditions relate to the use of this website/web app ("The Cycle Tracker App, The Site, The App")'}),Object(T.jsx)("p",{children:"By using The Cycle Tracker App you agree to these Terms And Conditions in their entirety."}),Object(T.jsx)("p",{children:"The users of The Cycle Tracker App understand and agree that:"}),Object(T.jsxs)("ol",{children:[Object(T.jsx)("li",{children:"The developers and adminstrators of The Cycle Tracker App created it for their own amusement, and it shouldn't be treated as a serious service."}),Object(T.jsx)("li",{children:"Use of The App is entirely at The User's own risk, including the security of any data they submit to The App."}),Object(T.jsx)("li",{children:"No liablity will be taken by the developers, administrators, or owners of The Cycle Tracker App for any losses of any kind resulting from the use of The App."}),Object(T.jsx)("li",{children:"The developers, administrators, and owners of The Cycle Tracker App reserve the right to refuse access to The App entirely at their discretion."}),Object(T.jsx)("li",{children:"The developers and owners of The Cycle Tracker App reserve the right to amend or delete any data held by The App at any time without prior notice."}),Object(T.jsx)("li",{children:"The developers, adminstrators, and owners of The Cycle Tracker App reserve the right to use the data you submit to The App for any purpose."}),Object(T.jsx)("li",{children:"The developers, administrators, and owners of The Cycle Tracker App reserve the right to delete The App at any time without prior warning."})]}),Object(T.jsx)("button",{id:"tandcButton",children:"I have read and agree to this"})]})})},I=Object(r.b)(null,{signUp:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(O.a)(Object(O.a)({},e),{},{tandc:"1.0"}),v("status","loading",n),t.next=4,fetch(x.url+"/signup",Object(O.a)(Object(O.a)({},x.options),{},{method:"POST",body:JSON.stringify(a)})).then((function(e){return e.json()})).then((function(e){201===e.status&&"User Added"===e.message?(v("status",null,n),v("login",null,n)):(v("status",e.status,n),v("logout",null,n)),409===e.status&&v("changePage","home",n)})).catch((function(e){y(n)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changePage:S})((function(e){var t=e.signUp,n=e.changePage,c=Object(a.useState)(""),s=Object(C.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)(""),l=Object(C.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(""),h=Object(C.a)(j,2),b=h[0],f=h[1],p=Object(a.useState)(""),O=Object(C.a)(p,2),g=O[0],m=O[1],x=Object(a.useState)(""),v=Object(C.a)(x,2),k=v[0],y=v[1],N=Object(a.useState)(""),S=Object(C.a)(N,2),w=S[0],A=S[1],E=Object(a.useState)(""),P=Object(C.a)(E,2),I=P[0],L=P[1],_=Object(a.useState)(""),F=Object(C.a)(_,2),G=F[0],U=F[1],H=Object(a.useState)(!1),Y=Object(C.a)(H,2),M=Y[0],W=Y[1],K=Object(a.useState)(""),J=Object(C.a)(K,2),R=J[0],B=J[1],z=Object(a.useState)(!1),Z=Object(C.a)(z,2),$=Z[0],q=Z[1],V=Object(a.useState)(!1),X=Object(C.a)(V,2),Q=X[0],ee=X[1];Object(a.useEffect)((function(){d(r?"":"error")}),[r]),Object(a.useEffect)((function(){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b.toLowerCase())?m(""):m("error")}),[b]),Object(a.useEffect)((function(){k&&k===I?(A(""),U("")):k&&k!==I?(A(""),U("error")):k||(A("error"),U("error"),L(""))}),[k,I]),Object(a.useEffect)((function(){B(!0===M?"":"error")}),[M]),Object(a.useEffect)((function(){q(!!(u||g||w||G||R))}),[u,g,w,G,R]);return Object(T.jsxs)("div",{className:"ui container",children:[Q?Object(T.jsx)(D,{readTandC:function(e){return function(e){!0===e&&W(!0),ee(!1)}(e)}}):null,Object(T.jsxs)("form",{className:"ui form",onSubmit:function(e){e.preventDefault(),$||t({name:r,email:b,pword:k})},children:[Object(T.jsxs)("div",{className:"field ".concat(u),children:[Object(T.jsx)("label",{children:"What should we call you?"}),Object(T.jsx)("input",{placeholder:"Freddles",type:"text",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(T.jsxs)("div",{className:"field ".concat(g),children:[Object(T.jsx)("label",{children:"Your email?"}),Object(T.jsx)("input",{placeholder:"winifred@email.com",type:"email",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(T.jsxs)("div",{className:"field ".concat(w),children:[Object(T.jsx)("label",{children:"Password"}),Object(T.jsx)("input",{placeholder:"Password",type:"password",value:k,onChange:function(e){return y(e.target.value)}})]}),w?null:Object(T.jsxs)("div",{className:"field ".concat(G),children:[Object(T.jsx)("label",{children:"Confirm password"}),Object(T.jsx)("input",{placeholder:"Confirm password",type:"password",value:I,onChange:function(e){return L(e.target.value)}})]}),u||g||w||G?null:Object(T.jsx)("div",{className:"inline field ".concat(R),children:Object(T.jsxs)("div",{className:"ui checkbox",children:[Object(T.jsx)("input",{type:"checkbox",checked:M,onChange:function(e){W(!M)}}),Object(T.jsxs)("label",{children:["I have read and agree to the ",Object(T.jsx)("span",{className:"fakeLink",onClick:function(){return ee(!0)},children:"Terms And Conditions"})]})]})}),$?null:Object(T.jsx)("button",{className:"ui button positive",type:"submit",children:"Sign Up!"}),Object(T.jsx)("button",{className:"ui button red",onClick:function(){return n("login")},children:"Cancel"})]})]})})),L=Object(r.b)(null,{changePage:S})((function(e){var t=e.changePage;return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("div",{className:"cust_half_height",children:Object(T.jsx)("div",{className:"cust_button",onClick:function(){return t("createSession")},children:"Create A Session"})}),Object(T.jsx)("div",{className:"cust_half_height",children:Object(T.jsx)("div",{className:"cust_button",onClick:function(){return t("viewData")},children:"View Session Data"})})]})})),_=n(214),F=Object(r.b)(null,{changePage:S,createSession:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v("status","loading",n),e.date=e.date.split("-").reverse().join("-"),t.next=4,fetch(x.url+"/createSession",Object(O.a)(Object(O.a)({},x.options),{},{method:"POST",body:JSON.stringify(e)})).then((function(e){return e.json()})).then((function(e){201===e.status?(v("status",null,n),v("changePage","home",n)):401===e.status?k(n):(v("status",e.status,n),v("changePage","home",n))})).catch((function(e){y(n)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.changePage,n=e.createSession,c=function(e){return e<10?"0"+e:e},s=new Date,r=Object(a.useState)(c(s.getDate())+"-"+c(s.getMonth()+1)+"-"+s.getFullYear()),i=Object(C.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)(""),d=Object(C.a)(u,2),j=d[0],h=d[1],b=Object(a.useState)(""),f=Object(C.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)(""),m=Object(C.a)(g,2),x=m[0],v=m[1],k=Object(a.useState)(""),y=Object(C.a)(k,2),N=y[0],S=y[1],w=Object(a.useState)(""),A=Object(C.a)(w,2),E=A[0],P=A[1],D=Object(a.useState)(""),I=Object(C.a)(D,2),L=I[0],F=I[1],G=Object(a.useState)(""),U=Object(C.a)(G,2),H=U[0],Y=U[1],M=Object(a.useState)(""),W=Object(C.a)(M,2),K=W[0],J=W[1],R=Object(a.useState)(""),B=Object(C.a)(R,2),z=B[0],Z=B[1],$=Object(a.useState)(""),q=Object(C.a)($,2),V=q[0],X=q[1],Q=Object(a.useState)(""),ee=Object(C.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ce=Object(C.a)(ae,2),se=ce[0],re=ce[1];Object(a.useEffect)((function(){/^\d{2}-\d{2}-\d{4}$/.test(o)?h(""):h("error")}),[o]),Object(a.useEffect)((function(){!isNaN(p)&&p>0&&/^[0-9]{0,3}[.]{0,1}[0-9]{0,3}$/.test(p)?v(""):v("error")}),[p]),Object(a.useEffect)((function(){if((!isNaN(L)||!isNaN(E)||!isNaN(N))&&Number(L)>=0&&Number(E)>=0&&Number(N)>=0&&Number(L)+Number(E)+Number(N)>0&&Number(L)%1===0&&Number(E)%1===0&&Number(N)%1===0){if(Number(E)>59){var e=Number(E)%60,t=(Number(E)-e)/60;F((Number(L)+t).toString()),P(e.toString())}if(Number(N)>59){var n=Number(N)%60,a=(Number(N)-n)/60;P((Number(E)+a).toString()),S(n.toString())}Y("")}else Y("error")}),[L,E,N]),Object(a.useEffect)((function(){!isNaN(K)&&K?Z(""):Z("error")}),[K]),Object(a.useEffect)((function(){ne(V?"":"error")}),[V]),Object(a.useEffect)((function(){re(!!(j||x||H||z||te))}),[j,x,H,z,te]);return Object(T.jsx)("div",{className:"ui container",children:Object(T.jsxs)("form",{className:"ui form",onSubmit:function(e){e.preventDefault(),se||n({date:o,distance:p,hours:L,mins:E,secs:N,weight:K,route:V})},children:[Object(T.jsxs)("div",{className:"field ".concat(j),children:[Object(T.jsx)("label",{children:"Session Date"}),Object(T.jsx)(_.DateInput,{name:"date",placeholder:"Date",value:o,autoComplete:"off",onChange:function(e,t){t.name;var n=t.value;l(n)},closable:!0})]}),Object(T.jsxs)("div",{className:"field ".concat(x),children:[Object(T.jsx)("label",{children:"Distance (km.mmm)"}),Object(T.jsx)("input",{type:"number",placeholder:"km.mm",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(T.jsxs)("div",{className:"field time-field ".concat(H),children:[Object(T.jsx)("label",{children:"Session Duration"}),Object(T.jsx)("input",{className:"time-input",type:"number",placeholder:"hh",value:L,onChange:function(e){return F(e.target.value)}}),Object(T.jsx)("span",{children:"h"}),Object(T.jsx)("input",{className:"time-input",type:"number",placeholder:"mm",value:E,onChange:function(e){return P(e.target.value)}}),Object(T.jsx)("span",{children:"m"}),Object(T.jsx)("input",{className:"time-input",type:"number",placeholder:"ss",value:N,onChange:function(e){return S(e.target.value)}}),Object(T.jsx)("span",{children:"s"})]}),Object(T.jsxs)("div",{className:"field ".concat(z),children:[Object(T.jsx)("label",{children:"Weight (kg)"}),Object(T.jsx)("input",{type:"number",placeholder:"kg",value:K,onChange:function(e){return J(e.target.value)}})]}),Object(T.jsxs)("div",{className:"field ".concat(te),children:[Object(T.jsx)("label",{children:"Route"}),Object(T.jsx)("input",{placeholder:"JBBL and back",value:V,onChange:function(e){return X(e.target.value)}})]}),!1===se?Object(T.jsx)("button",{className:"ui button positive",type:"submit",children:"Add Session!"}):null,Object(T.jsx)("button",{className:"ui button red",onClick:function(){return t("login")},children:"Cancel"})]})})})),G=n(471),U=n(472),H=n(476),Y=n(102),M=n(232),W=n(233),K=n(235),J=Object(r.b)((function(e){return{sessions:e.sessions,fetchAll:e.fetchAll}}),{getMonthSessions:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("status","loading",t),e.next=3,fetch(x.url+"/getMonthSessions",Object(O.a)(Object(O.a)({},x.options),{},{method:"GET"})).then((function(e){return e.json()})).then((function(e){200===e.status?(v("status",null,t),v("setSessions",e.sessions,t)):404===e.status?(v("status",e.status,t),v("setSessions",null,t)):401===e.status?k(t):(v("status",e.status,t),v("setSessions",null,t))})).catch((function(e){y(t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getAllSessions:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("status","loading",t),v("fetchChange",!1,t),e.next=4,fetch(x.url+"/getAllSessions",Object(O.a)(Object(O.a)({},x.options),{},{method:"GET"})).then((function(e){return e.json()})).then((function(e){200===e.status?(v("status",null,t),v("setSessions",e.sessions,t)):401===e.status?k(t):(v("status",e.status,t),v("setSessions",null,t))})).catch((function(e){y(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.sessions,n=e.getMonthSessions,c=e.getAllSessions,s=e.fetchAll,r=Object(a.useState)([]),i=Object(C.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)("speed"),d=Object(C.a)(u,2),j=d[0],h=d[1],b=Object(a.useState)("month"),f=Object(C.a)(b,2),p=f[0],O=f[1];Object(a.useEffect)((function(){"month"===p?n():c()}),[n,c,p]),Object(a.useEffect)((function(){!0===s&&O("all")}),[s]),Object(a.useEffect)((function(){t&&t.forEach((function(e){e.unix=new Date(e.date).getTime()})),l(t)}),[t]);var g=function(e){var t=new Date(e);return[t.getDate(),t.getMonth()+1,t.getFullYear()].join("-")},m=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return"".concat(t,"h ").concat(n,"m")};return o&&0!==o.length?(console.log(j),Object(T.jsxs)("div",{className:"ui container data",children:[Object(T.jsx)("h2",{children:"Your session data:"}),function(e){var t,n={dataKey:"time",label:"Time (s)",tickCount:3,tickFormatter:function(e){return m(e)}};switch(e){case"time":t=n;break;case"speed":t={dataKey:"speed",label:"Avg. Speed (km/h)",tickCount:5,tickFormatter:function(e){return e}};break;case"weight":t={dataKey:"weight",label:"Weight (kg)",tickCount:3,tickFormatter:function(e){return e}};break;default:t=n}var a=[o[0].unix,o[o.length-1].unix];return Object(T.jsx)(G.a,{width:"100%",height:430,children:Object(T.jsxs)(U.a,{data:o,margin:{top:10,right:10,bottom:100,left:10},children:[Object(T.jsx)(H.a,{}),Object(T.jsx)(Y.a,{content:function(e){var t=e.active,n=e.payload;if(e.label,t&&n.length){var a=n[0].payload;return Object(T.jsxs)("div",{className:"custom-tooltip",children:[Object(T.jsx)("p",{className:"label",children:"Date: ".concat(g(a.unix))}),Object(T.jsx)("p",{className:"desc",children:"Distance: ".concat(a.distance,"km")}),Object(T.jsx)("p",{className:"desc",children:m(a.time)}),Object(T.jsx)("p",{className:"desc",children:"Avg. Speed: ".concat(a.speed,"km/h")}),Object(T.jsx)("p",{className:"desc",children:"Route: ".concat(a.route)})]})}return null}}),Object(T.jsx)(M.a,{dataKey:"unix",scale:"time",domain:["auto","auto"],tickFormatter:function(e){return g(e)},ticks:[a[0],a[1]],interval:"preserveStartEnd",type:"number",dy:30,angle:45,padding:{left:10,right:10}}),Object(T.jsx)(W.a,{padding:{top:10,bottom:10},yAxisId:"left",orientation:"left",type:"number",domain:["auto","auto"],interval:"preserveStartEnd",label:{value:"Distance (km)",angle:-90,position:"left",fill:"rgba(0, 0, 255, 1)"}}),Object(T.jsx)(K.a,{dataKey:"distance",yAxisId:"left",type:"monotone",stroke:"#0000FF"}),Object(T.jsx)(W.a,{padding:{top:10,bottom:10},yAxisId:"right",orientation:"right",type:"number",domain:["auto","auto"],tickCount:t.tickCount,tickFormatter:function(e){return t.tickFormatter(e)},label:{value:t.label,angle:90,position:"right",fill:"rgba(255, 0, 0, 1"}}),Object(T.jsx)(K.a,{dataKey:t.dataKey,yAxisId:"right",type:"monotone",stroke:"#FF0000"})]})})}(j),function(){var e=function(e){return e===j?"blue":"green"};return Object(T.jsxs)("div",{className:"graph-bottom",children:[Object(T.jsxs)("div",{className:"graph-buttons",children:[Object(T.jsx)("button",{className:"ui button ".concat(e("speed")),onClick:function(){return h("speed")},children:"Speed"}),Object(T.jsx)("button",{className:"ui button ".concat(e("time")),onClick:function(){return h("time")},children:"Time"}),Object(T.jsx)("button",{className:"ui button ".concat(e("weight")),onClick:function(){return h("weight")},children:"Weight"})]}),Object(T.jsx)("div",{children:"month"===p?Object(T.jsx)("button",{className:"ui button green",onClick:function(){return O("all")},children:"Show All"}):Object(T.jsx)("button",{className:"ui button green",onClick:function(){return O("month")},children:"Show 30 days"})})]})}()]})):null})),R=function(){return Object(T.jsx)("div",{className:"container status",children:Object(T.jsxs)("div",{className:"ui segment",children:[Object(T.jsxs)("div",{id:"loading",children:[Object(T.jsxs)("div",{id:"loading-pump",children:[Object(T.jsx)("div",{id:"loading-pump-body"}),Object(T.jsx)("div",{id:"loading-pump-handle"}),Object(T.jsx)("div",{id:"loading-pump-base"}),Object(T.jsx)("svg",{id:"loading-pump-hose",width:"345",height:"100",children:Object(T.jsx)("path",{d:"M -5 5 C 100 100, 100 80, 150 70 S 320 20, 340 90",stroke:"red",fill:"transparent",strokeWidth:"10"})})]}),Object(T.jsxs)("div",{id:"loading-wheel",className:"wheel",children:[Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes1"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes2"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes3"}),Object(T.jsx)("div",{className:"logo-spokes",id:"logo-spokes4"}),Object(T.jsxs)("div",{id:"loading-leak",children:[Object(T.jsx)("div",{className:"loading-leak-air",id:"loading-leak1"}),Object(T.jsx)("div",{className:"loading-leak-air",id:"loading-leak2"}),Object(T.jsx)("div",{className:"loading-leak-air",id:"loading-leak3"})]})]})]}),Object(T.jsxs)("div",{className:"status-field",children:[Object(T.jsxs)("h2",{children:["Loading",Object(T.jsx)("span",{className:"loading-dot",id:"loading-dot1",children:"."}),Object(T.jsx)("span",{className:"loading-dot",id:"loading-dot2",children:"."}),Object(T.jsx)("span",{className:"loading-dot",id:"loading-dot3",children:"."})]}),Object(T.jsx)("h4",{children:"This might take a few seconds for the server to start..."})]})]})})},B=Object(r.b)(null,{changePage:S,fetchChange:function(e){return function(t){v("fetchChange",e,t)}},clearError:w})((function(e){var t=e.clearError,n=e.changePage,a=e.page,c=e.fetchChange;return Object(T.jsx)("div",{className:"container status",onClick:function(e){e.preventDefault(),"fakeLink"!==e.target.classList[0]&&(t(),"viewData"===a&&n("home"))},children:Object(T.jsxs)("div",{className:"ui segment",children:[Object(T.jsx)("div",{className:"status-field",children:Object(T.jsx)("h2",{children:"Womp womp!"})}),"viewData"===a?Object(T.jsxs)("div",{className:"status-field",children:[Object(T.jsx)("h2",{children:"There are no sessions to view..."}),Object(T.jsxs)("h2",{children:[Object(T.jsx)("span",{className:"fakeLink",onClick:function(){return n("createSession")},children:"Add a new session"}),Object(T.jsx)("br",{}),"or",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"fakeLink",onClick:function(){return c(!0)},children:"get all session data"})]})]}):null,Object(T.jsx)("div",{className:"status-field",children:Object(T.jsx)("p",{children:"*touch anywhere else to dismiss...*"})})]})})})),z=Object(r.b)(null,{clearError:w,changePage:S})((function(e){var t=e.clearError,n=e.changePage,a=e.status;return Object(T.jsx)("div",{className:"container status",onClick:function(e){e.preventDefault(),n("home"),t()},children:Object(T.jsxs)("div",{className:"ui segment",children:[Object(T.jsx)("div",{className:"status-field",children:Object(T.jsx)("h2",{children:"Womp womp!"})}),Object(T.jsx)("div",{className:"status-field",children:Object(T.jsx)("h2",{children:function(){switch(a){case 401:return"Login Details Incorrect :(";case 406:return"Unacceptable Inputs :(";case 409:return"Duplication...";case 500:return"It looks like the server caught fire :(";default:return"Non-specific errors :("}}()})}),Object(T.jsx)("div",{className:"status-field",children:Object(T.jsx)("p",{children:"*touch anywhere to dismiss...*"})})]})})})),Z=Object(r.b)((function(e){return{appStatus:e.appStatus,page:e.page}}))((function(e){var t=e.appStatus,n=e.page;switch(t){case"loading":return Object(T.jsx)(R,{});case 404:return Object(T.jsx)(B,{page:n});default:return Object(T.jsx)(z,{status:t})}})),$=Object(r.b)(null,{changePage:S})((function(e){var t=e.changePage;return Object(T.jsxs)("div",{className:"ui container about",onClick:function(){return t("home")},children:[Object(T.jsx)("h2",{children:"About Cycle Tracker"}),Object(T.jsx)("p",{children:"Hi there, and welcome to this app designed to track you cycling and fitness progression."}),Object(T.jsx)("p",{children:'After you have created and account and/or logged in, click "Create A Session" to add some data.'}),Object(T.jsx)("p",{children:'You will need to enter the date of your session, the distance you rode, the session duration in hours, minutes and seconds, your weight, and a quick blurb about the route you took (eg. "Work and back").'}),Object(T.jsx)("p",{children:'Once you have entered at least one session, you can go back to the main screen and click "View Session Data" to see a graph of your sessions over time.'}),Object(T.jsx)("p",{children:'The default setting is to see the last 30 days worth of sessions, but you can see all of your data by clicking "Show All".'}),Object(T.jsx)("p",{children:"The default graph is time on the X-axis, Distance on the left Y-axis (blue), and Average Speed on the right Y-axis (red). You can change right Y-axis to show your total time or weight progression over time instead of speed."}),Object(T.jsx)("hr",{}),Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:"This App was created by "}),Object(T.jsx)("a",{href:"mailto:sam@iamasamwich.com",target:"_blank",rel:"noreferrer",children:"Sam Humphreys"}),Object(T.jsx)("span",{children:", using "}),Object(T.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noreferrer",children:"React"}),Object(T.jsx)("span",{children:" and "}),Object(T.jsx)("a",{href:"https://redux.js.org",target:"_blank",rel:"noreferrer",children:"Redux"}),Object(T.jsx)("span",{children:", "}),Object(T.jsx)("a",{href:"https://semantic-ui.com/",target:"_blank",rel:"noreferrer",children:"Semantic UI"}),Object(T.jsx)("span",{children:", and "}),Object(T.jsx)("a",{href:"https://recharts.org",target:"_blank",rel:"noreferrer",children:"Recharts"})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("p",{children:["Have you noticed a",Object(T.jsx)("a",{href:"mailto:sam@iamasamwich.com?subject=Cycle Tracker: I found this bug...",target:"_blank",rel:"noreferrer",children:" bug "}),"or want to",Object(T.jsx)("a",{href:"mailto:sam@iamasamwich.com?subject=Cycle Tracker: I have a suggestion... ",target:"_blank",rel:"noreferrer",children:" suggest a feature"}),"? Click the links to email the developers!"]}),Object(T.jsx)("button",{className:"ui button green",onClick:function(){return t("home")},children:"Home"})]})})),q=Object(r.b)((function(e){return{login:e.login,page:e.page,appStatus:e.appStatus}}),{ping:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x.url+"/ping",Object(O.a)(Object(O.a)({},x.options),{},{method:"GET"})).then((function(e){return e.json()})).then((function(e){200===e.status&&"ok"===e.message?v("login",null,t):v("logout",null,t)})).catch((function(e){y(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changePage:S,logout:N})((function(e){var t=e.login,n=e.page,c=e.appStatus,s=e.ping;Object(a.useEffect)((function(){s()}),[s]);return Object(T.jsxs)(a.Fragment,{children:[Object(T.jsx)(A,{}),null!==c?Object(T.jsx)(Z,{}):null,t?function(){switch(n){case"home":return Object(T.jsx)(L,{});case"createSession":return Object(T.jsx)(F,{});case"viewData":return Object(T.jsx)(J,{});case"about":return Object(T.jsx)($,{});default:return Object(T.jsx)(L,{})}}():function(){switch(n){case"signup":return Object(T.jsx)(I,{});case"about":return Object(T.jsx)($,{});default:return Object(T.jsx)(P,{})}}()]})})),V=Object(i.d)(b,Object(i.a)(o.a));s.a.render(Object(T.jsx)(r.a,{store:V,children:Object(T.jsx)(q,{})}),document.querySelector("#root"))}},[[427,1,2]]]);
//# sourceMappingURL=main.cd3c46f8.chunk.js.map